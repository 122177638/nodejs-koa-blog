(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chapterSection"],{"52c0":function(t,e,n){"use strict";var c=n("7f84"),o=n.n(c);o.a},"7f84":function(t,e,n){},9807:function(t,e,n){},"9eb0":function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"chapter-detail"},[t.chapter.length>0?n("div",{staticClass:"chapter-table"},[n("h1",{staticClass:"chapter-table-title"},[n("Icon",{attrs:{type:"md-book"}}),t._v(" "+t._s(t.columnTitle)+" ")],1),n("v-column-chapter",{attrs:{chapter:t.chapter},on:{getSection:t.getSection}})],1):t._e(),t.section?n("article",{staticClass:"chapter-container"},[n("h1",{staticClass:"chapter-title"},[t._v(" "+t._s(t.section.title)+" ")]),n("ul",{staticClass:"chapter-intro"},[n("li",[n("Icon",{attrs:{size:"16",type:"ios-person-outline"}}),t._v(" "+t._s(t.section.author)+" ")],1)]),n("div",{staticClass:"chapter-content"},[n("mavon-editor",{staticStyle:{height:"100%"},attrs:{ishljs:!0,defaultOpen:"preview",editable:!1,subfield:!1,toolbarsFlag:!1},model:{value:t.section.content,callback:function(e){t.$set(t.section,"content",e)},expression:"section.content"}})],1),n("div",{staticClass:"comment-header"},[n("Icon",{attrs:{type:"ios-create-outline"}}),t._v(" 欢迎评论 ")],1),n("v-comment-create",{attrs:{target_type:"column",target_id:parseInt(t.sectionId)},on:{updateComment:t.updateComment}}),t.section&&t.section.section_comment&&t.section.section_comment.data.length>0?n("div",[n("v-comment-list",{attrs:{target_id:parseInt(t.sectionId),target_type:"column"},on:{updateComment:t.updateComment}})],1):t._e()],1):t._e()])},o=[],i=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("d3b7"),n("96cf"),n("2fa7")),a=n("2f62"),r=n("b2d8"),s=(n("64e1"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.chapter.length>0?n("div",{staticClass:"column-chapter"},t._l(t.chapter,(function(e,c){return n("dl",{key:c},[n("dt",[n("Icon",{attrs:{type:"md-list"}}),t._v(" 第 "+t._s(c+1)+" 章："+t._s(e.title)+" ")],1),e.chapter_section?n("div",t._l(e.chapter_section,(function(e,c){return n("dd",{key:c,on:{click:function(n){return t.getSection(e.id)}}},[n("h1",[n("Icon",{attrs:{type:"md-git-commit"}}),t._v(" "+t._s(e.title)+" ")],1),n("span")])})),0):t._e()])})),0):t._e()])}),l=[],u={props:{chapter:{type:Array,default:function(){return[]}}},name:"Chapter",data:function(){return{sectionIndex:0}},methods:{getSection:function(t){window.scroll(0,0),this.$store.commit("chapter-section/SET_COLUMN_CHAPTER_SECTION",null),this.$store.commit("comment/SET_COMMENT_LIST",[]),this.$store.commit("comment/SET_COMMENT_PAGE",null),this.$emit("getSection",t)}}},m=u,p=(n("d01c"),n("2877")),d=Object(p["a"])(m,s,l,!1,null,"b0b152c0",null),h=d.exports,f=n("39a6"),_=n("d2b3");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,c)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g={components:{mavonEditor:r["mavonEditor"],VColumnChapter:h,VCommentList:f["a"],VCommentCreate:_["a"]},name:"chapterSection",computed:v({},Object(a["d"])({section:function(t){return t["chapter-section"].section}})),data:function(){return{content:"呢绒",sectionId:this.$route.query.sectionId,columnId:this.$route.query.columnId,chapter:[],columnTitle:""}},created:function(){this.fetchData(),this.getSection()},methods:v({},Object(a["b"])({getColumnChapter:"column-chapter/list",getSectionDetail:"chapter-section/detail"}),{fetchData:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.getColumnChapter({column_id:this.columnId}));case 2:t=e.sent,this.columnTitle=t.data.data.title,this.chapter=t.data.data.chapter_list;case 5:case"end":return e.stop()}}),null,this)},getSection:function(t){var e;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.getSectionDetail({id:t||this.sectionId}));case 2:e=n.sent,this.$store.commit("comment/SET_COMMENT_LIST",e.data.data.section_comment.data),this.$store.commit("comment/SET_COMMENT_PAGE",e.data.data.section_comment.meta);case 5:case"end":return n.stop()}}),null,this)},updateComment:function(){this.getSection()}})},C=g,y=(n("52c0"),Object(p["a"])(C,c,o,!1,null,"2ee60758",null));e["default"]=y.exports},d01c:function(t,e,n){"use strict";var c=n("9807"),o=n.n(c);o.a}}]);